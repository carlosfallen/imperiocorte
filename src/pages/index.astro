---
import BaseLayout from '../layouts/BaseLayout.astro';
import Header from '../components/Header.astro';
import Footer from '../components/Footer.astro';
import { Database } from '../lib/db';

const db = new Database(Astro.locals.runtime.env.DB);
const featuredServices = await db.getServices({ isFeatured: true, isActive: true });
const categories = await db.getCategories();
---

<BaseLayout title="In√≠cio">
  <Header />
  
  <main>
    <section class="hero">
      <div class="hero-decoration"></div>
      <div class="container">
        <h1 class="hero-title">Seu visual no padr√£o luxo</h1>
        <p class="hero-subtitle">Profissionais experientes, ambiente premium e o melhor atendimento da regi√£o</p>
        <div class="hero-cta">
          <a href="/agendar" class="btn btn-primary">Agendar agora</a>
          <a href="/catalogo" class="btn btn-secondary">Ver cat√°logo</a>
        </div>
        <div class="scroll-indicator">
          <span>Role para baixo</span>
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
            <path d="M12 5v14M19 12l-7 7-7-7" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
          </svg>
        </div>
      </div>
    </section>

    <section class="differentials">
      <div class="container">
        <h2 class="section-title">Por que escolher o Imp√©rio Corte</h2>
        <div class="differentials-grid">
          <div class="differential-card">
            <div class="differential-icon">‚ú®</div>
            <h3>Profissionais Qualificados</h3>
            <p>Equipe treinada e experiente, sempre atualizada com as √∫ltimas tend√™ncias</p>
          </div>
          <div class="differential-card">
            <div class="differential-icon">üèÜ</div>
            <h3>Produtos Premium</h3>
            <p>Utilizamos apenas produtos de alta qualidade para garantir os melhores resultados</p>
          </div>
          <div class="differential-card">
            <div class="differential-icon">‚è∞</div>
            <h3>Pontualidade</h3>
            <p>Valorizamos seu tempo. Agendamentos respeitados rigorosamente</p>
          </div>
          <div class="differential-card">
            <div class="differential-icon">üõ°Ô∏è</div>
            <h3>Higiene Impec√°vel</h3>
            <p>Protocolos rigorosos de limpeza e esteriliza√ß√£o em todos os procedimentos</p>
          </div>
        </div>
      </div>
    </section>

    <section class="featured-services">
      <div class="container">
        <h2 class="section-title">Servi√ßos em Destaque</h2>
        <div class="services-grid">
          {featuredServices.map(service => (
            <div class="service-card">
              <div class="service-image">
                {service.cover_image ? (
                  <img src={service.cover_image} alt={service.name} loading="lazy" />
                ) : (
                  <div class="service-placeholder"></div>
                )}
              </div>
              <div class="service-content">
                <h3>{service.name}</h3>
                <p class="service-duration">‚è±Ô∏è {service.duration_minutes} minutos</p>
                <p class="service-price">A partir de R$ {service.price.toFixed(2)}</p>
                <a href={`/agendar?servico=${service.id}`} class="btn btn-small">Agendar</a>
              </div>
            </div>
          ))}
        </div>
        <div class="services-cta">
          <a href="/catalogo" class="btn btn-secondary">Ver todos os servi√ßos</a>
        </div>
      </div>
    </section>

    <section class="testimonials">
      <div class="container">
        <h2 class="section-title">O que nossos clientes dizem</h2>
        <div class="testimonials-grid">
          <div class="testimonial-card">
            <div class="stars">‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</div>
            <p>"Atendimento impec√°vel! Ambiente elegante e profissionais super atenciosos. Sa√≠ de l√° me sentindo renovada."</p>
            <p class="testimonial-author">‚Äî Ana Silva</p>
          </div>
          <div class="testimonial-card">
            <div class="stars">‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</div>
            <p>"Melhor barbearia da regi√£o. Corte perfeito, barba bem feita e um caf√© excelente enquanto espero."</p>
            <p class="testimonial-author">‚Äî Carlos Mendes</p>
          </div>
          <div class="testimonial-card">
            <div class="stars">‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</div>
            <p>"Fa√ßo minhas unhas aqui h√° anos. Nunca me decepcionaram. Qualidade e cuidado sempre!"</p>
            <p class="testimonial-author">‚Äî Mariana Costa</p>
          </div>
        </div>
      </div>
    </section>

    <section class="cta-final">
      <div class="container">
        <h2>Pronto para transformar seu visual?</h2>
        <p>Agende seu hor√°rio agora e experimente o padr√£o luxo</p>
        <a href="/agendar" class="btn btn-primary btn-large">Agendar agora</a>
      </div>
    </section>
  </main>

  <Footer />
</BaseLayout>

<style>
</style>